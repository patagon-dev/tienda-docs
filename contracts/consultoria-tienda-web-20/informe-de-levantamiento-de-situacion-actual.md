---
title: Informe Levantamiento Situaci√≥n Actual
description: 
published: true
date: 2024-11-27T13:16:02.325Z
tags: 
editor: markdown
dateCreated: 2024-11-14T19:26:01.519Z
---

# Informe Levantamiento Situaci√≥n Actual

## Resumen
> El siguiente informe ilustra el estado actual del proyecto Tienda Web, justo antes de dar inicio a la segunda etapa del proyecto. (versi√≥n digital [aqu√≠](https://docs.google.com/document/d/1nHaCtGx6YScHOs3NP-RpLYWhXNjNIRgP0MWpPFCMmjA/edit?usp=sharing)
> 
> **üóé Versi√≥n descargable** [informe_levantamiento_situaci√≥n_actual.pdf](/adjuntos/informe_levantamiento_situaci√≥n_actual.pdf)
{.is-success}


# Antecedentes previos

## Historia

> Para entender el contexto actual proyecto, es necesario conocer el pasado del proyecto. A continuaci√≥n se muestra una l√≠nea de tiempo con los principales hitos que ha tenido este proyecto a lo largo de su vida.

> <kbd>2018</kbd>: Se firm√≥ un acuerdo de colaboraci√≥n con ChileCompra para la habilitaci√≥n y puesta en marcha de una Tienda de productos para Cenabast. En esa l√≠nea, se sugiri√≥ aprovechar la actual plataforma Magento que utiliza ChileCompra para las tiendas de Convenio Marco, para el desarrollo e implementaci√≥n de una Tienda con medicamentos e insumos m√©dicos para Cenabast.
> 
> <kbd>2020</kbd>: Se realiza un piloto habilitando una tienda de Cenabast dentro de Mercado P√∫blico. Finalmente este piloto fue descartado.
> 
> <kbd>2022</kbd>: Se realiz√≥ una consulta al mercado para conocer las soluciones disponibles de proveedores a nivel local.
> 
> <kbd>2023</kbd>: Se levanta requerimiento de un nuevo piloto o MVP a trav√©s del Convenio Marco de Desarrollo de Software. Esta vez, se solicit√≥ realizar el proyecto sobre la plataforma Spree Commerce con un dise√±o modularizado y escalable. 
{.is-info}


## MVP (Etapa 1: Enero 2024 ‚Äì Abril 2024)

> Considerando el historial previo, se propuso cambiar la plataforma previamente sugerida (Magento) por una soluci√≥n m√°s liviana y flexible (Spree Commerce). Para ello se realiz√≥ un informe t√©cnico en donde se mencionaron las ventajas y desventajas de una y otra soluci√≥n. 
{.is-warning}

> Los objetivos de este nuevo proyecto piloto, fueron 4:
> 
> 1. Validar que la herramienta Spree Commerce cumpliera con las funcionalidades m√≠nimas requeridas. En particular esto apuntaba a la funcionalidad de ‚ÄúMarketplace‚Äù, caracter√≠stica que permite que terceros (proveedores) vendan a trav√©s de la plataforma. En general esta funcionalidad no existe de forma nativa en otras plataformas de ecommerce de c√≥digo abierto.
> 
> 2. Validar la velocidad de desarrollo del framework Ruby on Rails (RoR). Ruby se destaca de otros frameworks por la velocidad para realizar nuevas cosas. As√≠ por ejemplo, lo que en otro framework toma 4 d√≠as para una persona, en Ruby se puede realizar en 2 d√≠as. 
> 
> 3. Dise√±ar una arquitectura escalable y resiliente. El proyecto piloto se pens√≥ desde sus inicios como una soluci√≥n modularizada, en que cada componente est√° separado del otro. Este permite adaptar de mejor manera y controlada los cambios que se requieren para la tienda. En particular, el proyecto piloto descompuso la soluci√≥n en 6 grandes componentes:
> - Spree Commerce: Tienda Web
> - Keycloak: Servicio de Single Sign On (SSO) integrado con clave √∫nica.
> - Mageai: Servicio de data pipeline para la sincronizaci√≥n de datos.
> - Elasticsearch: Servicio de motor de b√∫squedas.
> - Sidekiq: Servicio para gesti√≥n de tareas y colas.
> - PostgreSQL: Base de datos relacional.
> 
> Adicionalmente, el proyecto se concibi√≥ desde el principio utilizando contenedores Docker, de tal forma que el conjunto de servicios puedan ser desplegados en un cluster de Kubernetes, servicio que actualmente es un est√°ndar en la industria.
> 
> 4. Conservar el conocimiento del proyecto. Para evitar o minimizar el riesgo de dependencia del proveedor o de las personas, todos los procesos del proyecto fueron documentados en una plataforma de gesti√≥n de conocimiento. 

Una vez finalizada la primera etapa del proyecto, se procedi√≥ a levantar las bases t√©cnicas de requerimientos para la segunda etapa, bases que dieron lugar a un proceso de Licitaci√≥n p√∫blica, concurso que se public√≥ el 27 de agosto del 2024.

# Situaci√≥n Actual
## Objetivo
> Como objetivo de corto plazo, se ha solicitado la implementaci√≥n del canal de Farmacias de Cadena en ambiente de producci√≥n para el mes de Enero del 2025. 
> 
> Dado lo ambicioso de dicho objetivo (2 meses), y para cumplir con la fecha propuesta, originalmente se pens√≥ utilizar el canal de compra espont√°nea ‰∏Ädesarrollado en la etapa 1‰∏Ä como canal para Farmacias de Cadena. Posteriormente sin embargo, se consider√≥ que lo mejor ser√≠a habilitar un nuevo canal para Farmacias de Cadena, para as√≠ separar las reglas de negocio del canal de compra espont√°nea.
{.is-info}

## Etapa 2 (Noviembre 2024 - )
> La segunda etapa del proyecto iniciar√° el mi√©rcoles 27 de noviembre con la reuni√≥n de kick-off con el proveedor AcidLabs. El proveedor fue adjudicado a trav√©s del proceso de licitaci√≥n 2268-34-LQ24.
> Se trata del mismo proveedor que previamente hab√≠a realizado el proyecto ‚ÄúPiloto‚Äù o ‚ÄúMPV‚Äù de la 
> Etapa 1 de Tienda a principios de a√±o, lo que facilitar√° el proceso de capacitaci√≥n t√©cnico y de negocios.
> 
> El desarrollo de la Etapa 2 con el proveedor adjudicado, tiene un plazo de ejecuci√≥n de 24 meses y un presupuesto estimado de 240 millones (impuestos incluidos). Dado que el contrato es por horas de trabajo, la Etapa 2 finalizar√° cuando se cumpla la primera de las dos restricciones: plazo o presupuesto. 
> 
> Previo a la llegada del proveedor, se trabaj√≥ en un plan de trabajo que contempl√≥ m√∫ltiples √°reas. A continuaci√≥n detallamos los preparativos y actividades que se realizaron para abordar el proyecto de la mejor manera posible.

## Subdivisi√≥n del proyecto 
> Para ordenar el proyecto Tienda, √©ste se subdividi√≥ en 8 sub-proyectos que agrupan las distintas tareas y actividades de trabajo. Cada subproyecto est√° asociado a un equipo o grupo de personas en particular. Esto permitir√° tener un mejor control y seguimiento de los requerimientos por cada √°rea. Una mirada general es la siguiente:
{.is-info}

![2024-11-27_10-09.png](/images/2024-11-27_10-09.png)

## Equipo
> Cabe mencionar que los 8 subproyectos arriba mencionados est√°n siendo liderados por Gloria Venegas, quien adem√°s cuenta con el apoyo de Claudio Soto y Natalia Mart√≠nez para la gesti√≥n y seguimiento. Adem√°s cuentan con la asesor√≠a y supervisi√≥n del consultor externo.
> 
> Adicionalmente el equipo de proyectos reporta los avances y riesgos del proyecto de forma semanal a los jefes de √°rea Diego Mart√≠nez y Rodrigo Castro.
{.is-info}

## Gantt
> Antes de la llegada del proveedor adjudicado, se levantaron las distintas actividades para cada una de las divisiones del proyecto. La Gantt completa de actividades se puede consultar ac√°. La siguiente imagen es una muestra de la Gantt para el proveedor AcidLabs y los primeros requerimientos:
{.is-info}


![2024-11-27_10-11.png](/images/2024-11-27_10-11.png)

> Cada una de las tareas levantadas tiene el detalle del requerimiento, fecha de entrega, prioridad y equipo (o persona) asignada. Los tiempos propuestos de la Gantt actual son estimativos, y deben ser validados por el proveedor.
## Levantamiento de informaci√≥n de Negocios
> Se particip√≥ en diferentes reuniones con los equipos de negocio, para levantar informaci√≥n relativa a los flujos de operaci√≥n de los canales de Farmacias de Cadena y Farmacias Privadas. La informaci√≥n de ambos flujos est√° siendo procesada y subida a la plataforma de documentaci√≥n . 
> 
> El 4 de noviembre se levanta con el consultor de Novis la viabilidad de utilizar el canal 67 de compra espont√°nea habilitado en Tienda, para el canal de Farmacias de Cadena. Se revisan los puntos de conflicto. Por el momento al parecer dicha idea no es la √≥ptima, por lo cual se solicit√≥ mayor informaci√≥n al equipo de Daniella Gonzalez para habilitar nuevos canales para Tienda en SAP. Esta informaci√≥n est√° pendiente por el momento.
> 
> El 21 de noviembre se conocen los distintos modelos de captura del documento cedible con el equipo de Sergio Brito. (documentaci√≥n)
> 
> El d√≠a 21 de noviembre, se visita el Centro de Distribuci√≥n log√≠stico de Novofarma (documentaci√≥n). En dicha reuni√≥n se solicit√≥ acceso a los sistemas de Novoforma que permitan leer el stock de los productos, as√≠ como el seguimiento del despacho. Lamentablemente no existe un API para leer el stock, pero s√≠ una API para el tracking de los env√≠os. 
> 
> Paralelamente todos los lunes por la ma√±ana se realizan reuniones de seguimiento de forma presencial en San Eugenio 40. Igualmente se participa todos los mi√©rcoles en la reuni√≥n de seguimiento y avances con el equipo ampliado. 
## Documentaci√≥n
> Se migr√≥ la documentaci√≥n del proyecto Tienda a la nueva herramienta de documentaci√≥n. Asimismo, toda la informaci√≥n que surgi√≥ del levantamiento de informaci√≥n fue incorporada en la herramienta de documentaci√≥n.
{.is-success}

## Herramientas de gesti√≥n
> Se trabaj√≥ en la habilitaci√≥n de 4 herramientas de gesti√≥n para un mejor seguimiento y control del proyecto:

> proyectos.cenabast.cl
> Esta herramienta de gesti√≥n de tareas y seguimiento de proyecto, permitir√° llevar un mejor control de las actividades y flujo de trabajo. Entre otras cosas entregar√° reporter√≠a, priorizaci√≥n de actividades, bloqueos, etc. Con todo, permitir√° una mejor gesti√≥n de las tareas para los equipos del proyecto.
{.is-warning}



> chat-interno.cenabast.cl
> La herramienta de Chat es una soluci√≥n muy similar a Slack, es decir, una soluci√≥n de comunicaciones. Esto nos permitir√° tener un registro de todas las conversaciones del proyecto. Decisiones que pueden haberse tomado, problemas, o simplemente proveer informaci√≥n de contexto de alguna tarea. 
{.is-warning}


> docs.cenabast.cl
> La soluci√≥n de documentaci√≥n dejar√° un registro de la informaci√≥n que vaya surgiendo del proyecto. La idea es que se utilice la plataforma para documentar todo lo relativo al proyecto. Ser√° utilizada tanto por equipo interno como externo.
{.is-warning}


> tickets-tienda.cenabast.cl
> Esta herramienta de tickets (o ticketera), se habilit√≥ para evaluar la factibilidad de llevar un control y seguimiento de los requerimientos t√©cnicos entre el proveedor y Cenabast. Deber√° validarse con el proveedor el uso de esta soluci√≥n, y, en caso de que no se use, ser√° dada de baja. 
{.is-warning}


> Cabe destacar lo importante que significa el uso de este conjunto de herramientas, ya que permitir√° tener una mejor visibilidad del proyecto completo, as√≠ como un registro completo de todo el proceso de implementaci√≥n. Dado que el c√≥digo de estas soluciones es libre, la informaci√≥n est√° en control y propiedad de Cenabast, adem√°s de que cualquier funcionario de la instituci√≥n puede acceder a ellas ya que no hay restricci√≥n de licencias. 
{.is-danger}


## Infraestructura
> Desde un principio el proyecto se visualiz√≥ para ser resiliente y escalable, y, por lo mismo, el dise√±o de la arquitectura se pens√≥ para ser implementado utilizando un servicio de Kubernetes. 
> Sin embargo, dada la ausencia de este tipo de servicios en la infraestructura interna, de forma provisoria los servicios y aplicaciones de la Tienda fueron implementados en una m√°quina virtual. Cabe destacar que habilitar contenedores en una m√°quina virtual tiene varios inconvenientes de manejo y escalabilidad versus una soluci√≥n de orquestaci√≥n de contenedores (Kubernetes). Por un lado el despliegue automatizado es m√°s complejo, no es factible el escalamiento y tampoco es una servicio de alta disponibilidad (HA). 
>
> Kubernetes en cambio, es un servicio de alta disponibilidad (HA) que permite el despliegue y escalado autom√°tico de aplicaciones, haciendo que sea m√°s eficiente el flujo de desarrollo. 
> Por consiguiente, lo deseable ser√≠a habilitar el ambiente de producci√≥n de la Tienda bajo un servicio de Kubernetes y no de m√°quinas virtuales. 
# Riesgos
> Se trabaj√≥ en una matriz de riesgos para identificar las √°reas o actividades que podr√≠an impactar negativamente la ejecuci√≥n del proyecto. Para cada uno de los riesgos levantados, se propusieron acciones de mitigaci√≥n.
{.is-info}

![2024-11-27_10-14.png](/images/img/2024-11-27_10-14.png)

> Por ahora el √∫nico riesgo de alto impacto es la dificultad en SAP para priorizar modificaciones o adecuaciones relacionadas con la Tienda. La Tienda depende totalmente de los servicios e informaci√≥n que provee SAP, y son muchas las funcionalidades de SAP que la Tienda requiere para operar adecuadamente. 
{.is-success}



# Conclusiones
> A grandes rasgos la instituci√≥n est√° preparada para abordar esta nueva etapa del proyecto. 
> Sin embargo, ser√° necesario ir subsanando, ordenando y construyendo aquellas √°reas o zonas grises que no est√°n del todo definidas, o bien se requieren ciertos ‚Äúresguardos‚Äù.
{.is-info}


## Tienda: Un nuevo producto

> Como cabr√≠a esperar, cuando se desarrolla un nuevo producto al interior de una organizaci√≥n no existen los roles ni perfiles asociados al producto. Luego no est√° claro qui√©n es responsable de qu√© parte, y por lo tanto, el manejo o aceptaci√≥n del producto se vuelve m√°s complejo. Y esto sucede actualmente con el proyecto Tienda: no hay equipo de negocios para ‚Äúrecibir‚Äù las entregas de desarrollo.
>
> Luego, a medida que vaya avanzando el proyecto, ser√° necesario ir definiendo qui√©n ser√° responsable de Negocio de cada uno de los aspectos de la tienda. Algunos ejemplos de ello son:
> - Dise√±o y UX. Homepage.
> - Flujo de compra y experiencia de usuario para cada uno de los canales.
> - Portal del proveedor.
> - Portal del comprador.
{.is-info}

# Dependencia de terceros cr√≠ticas
> La tienda se ‚Äúalimenta‚Äù de los datos provenientes de otros sistemas internos. Algunos incidentes o problemas que podr√≠a surgir de estas dependencias son:
>
> Actualizaci√≥n de datos de sistemas internos (lentitud, o sincronizaci√≥n tard√≠a). Por ejemplo, al modificar un producto en SAP, la informaci√≥n ser√° reflejada en la Tienda al d√≠a siguiente.
>
> Datos inconsistentes o faltantes. Falta ejecutar muchas pruebas con los datos de distintos usuarios que proveen las API, para corregir o habilitar aquellos flujos no determinados. Por ejemplo, si en la respuesta de la API de los datos de un usuario no viene el email o √©ste no tiene el formato adecuado, la Tienda no captura dicha informaci√≥n. 
> Actualmente la Tienda no tiene acceso a la documentos cedibles, ya que los Pedidos de Venta que ‚Äúinyecta‚Äù la Tienda en SAP, no est√°n estructurados para recepcionar este tipo de documentos por parte de los proveedores.
>
> Se requieren ciertas funcionalidades en SAP que aparentemente tomar√° tiempo implementar, como la habilitaci√≥n de nuevos canales. Esta dependencia es insalvable, y por tanto, cr√≠tica para el √©xito del proyecto Tienda. Se deben buscar los recursos necesarios para que no sea un ‚Äúbloqueante‚Äù para la Tienda
{.is-danger}


